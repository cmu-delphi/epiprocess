<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • epiprocess</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Open_Sans-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Serif_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epiprocess</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.10.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/epiprocess.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/epi_df.html">Working with epi_df objects and time series data</a></li>
    <li><a class="dropdown-item" href="../articles/epi_archive.html">Working with epi_archive objects and data revisions</a></li>
    <li><a class="dropdown-item" href="../articles/outliers.html">Detect and correct outliers in signals</a></li>
    <li><a class="dropdown-item" href="../articles/growth_rate.html">Estimate growth rates in signals</a></li>
    <li><a class="dropdown-item" href="../articles/correlation.html">Correlate signals across locations and time</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cmu-delphi/epiprocess/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/cmu-delphi/epiprocess/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.11" id="epiprocess-011">epiprocess 0.11<a class="anchor" aria-label="anchor" href="#epiprocess-011"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-11">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-11"></a></h3>
<ul><li>
<code><a href="../reference/growth_rate.html">growth_rate()</a></code> argument order and names have changed. You will need to rewrite <code>growth_rate(x, y)</code> as <code>growth_rate(y, x)</code>. The interface for passing arguments to the <code>"smooth_spline"</code> and <code>"trend_filter"</code> methods has also changed. Finally, <code><a href="../reference/growth_rate.html">growth_rate()</a></code> with <code>method = "trendfilter"</code> now uses the <code>{trendfilter}</code> package rather than <a href="https://github.com/glmgen/genlasso" class="external-link">genlasso</a>; results for this method will be different than before. In order to make <a href="https://cmu-delphi.github.io/epiprocess/">epiprocess</a> installation easier for users without a compiler, we have placed <code>{trendfilter}</code> in Suggests:; if you want to use <code>method = "trendfilter"</code> you will need to manually install this dependency (e.g., with <code>remotes::install_github("glmgen/trendfilter")</code>).</li>
<li>In <code><a href="../reference/revision_summary.html">revision_summary()</a></code>:
<ul><li>The <code>should_compactify</code> argument is now called <code>compactify</code>. To migrate, change any calls with <code>should_compactfiy =</code> to <code>compactify =</code>.</li>
<li>Output now uses the name <code>lag_near_latest</code> instead of <code>time_near_latest</code>. To migrate, update references to <code>time_near_latest</code> to <code>lag_near_latest</code>.</li>
<li>
<code>revision_summary(epi_arch)</code> without specifying the measurement column to analyze in <code>...</code> will no longer attempt to guess which one you intended if there are multiple possibilities to choose from (<a href="https://github.com/cmu-delphi/epiprocess/issues571" class="external-link">#571</a>). If you attempt a complicated tidyselection that selects zero columns, this is also now an error. If you encounter such errors, manually specify the measurement column in <code>...</code>.</li>
<li>
<code>min_waiting_period</code> now defines a nonstrict inequality instead of a strict one. To obtain the old bounds, bump the <code>min_waiting_period</code> up to the next possible value for your <code>time_type</code>.</li>
</ul></li>
<li>In <code><a href="../reference/key_colnames.html">key_colnames()</a></code>:
<ul><li>On regular (non-<code>epi_df</code>) data frames, now requires manual specification of <code>geo_keys</code>, <code>other_keys</code>, and <code>time_keys</code>.</li>
<li>The <code>extra_keys</code> argument has been deprecated and replaced with <code>other_keys</code>.</li>
</ul></li>
<li>The compactification tolerance argument has been renamed to <code>compactify_abs_tol</code> or <code>abs_tol</code>, depending on the function; now defines a nonstrict tolerances; and defaults to 0 (requiring exact matches in order to compactify). This argument has been added to <code><a href="../reference/epi_archive.html">as_epi_archive()</a></code> and <code><a href="../reference/epix_merge.html">epix_merge()</a></code> and removed (along with all compactification options) from <code><a href="../reference/epi_archive.html">new_epi_archive()</a></code>.</li>
<li>
<code><a href="../reference/epi_archive.html">validate_epi_archive()</a></code> now follows the validator convention of operating on an “unvalidated” <code>epi_archive</code> (from <code>new_epi_archive</code>) rather than arguments.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-11">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-11"></a></h3>
<ul><li>
<code><a href="../reference/revision_summary.html">revision_summary()</a></code> now supports all <code>time_type</code>s.</li>
<li>The compactification tolerance setting now works with integer-type columns.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-11">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-11"></a></h3>
<ul><li>Fixed aggregation of age-group-specific rates to overall rates in <code>epi_df</code> vignette (<a href="https://github.com/cmu-delphi/epiprocess/issues587" class="external-link">#587</a>).</li>
<li>Fixed <code><a href="../reference/key_colnames.html">key_colnames()</a></code> omitting some key columns on <code>epi_archive</code>s (<a href="https://github.com/cmu-delphi/epiprocess/issues565" class="external-link">#565</a>).</li>
<li>Fixed <code>epi_archive</code> compactification raising an error on certain value column classes such as <code>"distribution"</code> (<a href="https://github.com/cmu-delphi/epiprocess/issues541" class="external-link">#541</a>); it’s now easier to form an archive of forecasts in that format.</li>
<li>Fixed large compactification tolerances potentially removing all versions of some observations in certain cases when activity was flat.</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-11">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-11"></a></h3>
<ul><li>Moved example datasets from being reexported in the package to being fetched from <code>epidatasets</code>. The <code>epidatasets</code> package is now auto-loaded as a dependency of <code>epiprocess</code>. The datasets can still be accessed, after loading the package, with <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code> or the name of the dataset alone, or with <code>epidatasets::</code> (<a href="https://github.com/cmu-delphi/epiprocess/issues577" class="external-link">#577</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10" id="epiprocess-010">epiprocess 0.10<a class="anchor" aria-label="anchor" href="#epiprocess-010"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-10">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-10"></a></h3>
<ul><li>Moved example datasets from being hosted in the package to being reexported from the <code>epidatasets</code> package. The datasets can no longer be loaded with <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code> but can be accessed with <code>epiprocess::</code> or, after loading the package, just the name of the dataset (<a href="https://github.com/cmu-delphi/epiprocess/issues520" class="external-link">#520</a>). Those with names starting with <code>jhu</code> have been renamed to a more uniform scheme and now have names starting with <code>covid</code>. The data set previously named <code>jhu_confirmed_cumulative_num</code> has been removed from the package, but a renamed version is has been removed from the package, but a renamed version is still available in <code>epidatasets</code>.</li>
<li>
<code>epi_slide_{sum,mean,opt}</code> have improved default output column names, and additional arguments for specifying names: <code>.prefix</code>, <code>.suffix</code>, <code>.new_col_names</code>. To obtain the old naming behavior, use <code>.prefix =   "slide_value_"</code>.</li>
<li>
<code>as_epi_df</code> now removes any grouping that <code>x</code> had applied.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-10">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-10"></a></h3>
<ul><li>
<code>epi_slide</code> and <code>epix_slide</code> now provide some hints if you forget a <code>~</code> when using a formula to specify the slide computation, and other bits of forgotten syntax.</li>
<li>Improved validation of <code>.window_size</code> arguments.</li>
<li>Rewrote a lot of the package documentation to be more consistent and informative. Simplified and streamlined the vignettes.</li>
<li>
<code>epi_slide_{sum,mean,opt}</code> on ungrouped <code>epi_df</code>s will now temporarily group by <code>geo_value</code> and any <code>other_keys</code> for the slide operation rather than raise an error about duplicated time values. <code>epi_slide</code>’s analogous automatic grouping has been made temporary in order to match.</li>
<li>Improved speed of key-uniqueness checks.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-10">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10"></a></h3>
<ul><li>Removed <code>.window_size = 1</code> default from <code>epi_slide_{mean,sum,opt}</code>; this argument is now mandatory, and should nearly always be greater than 1 except for testing purposes.</li>
<li>Fixed <code>epi_slide_{sum,mean,opt}</code> raising an error on certain tidyselect expressions.</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-10">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-10"></a></h3>
<ul><li>Removed vignette dependency on <code>covidcast</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9" id="epiprocess-09">epiprocess 0.9<a class="anchor" aria-label="anchor" href="#epiprocess-09"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-9">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-9"></a></h3>
<ul><li>
<code>epi_slide</code> interface has major breaking changes.
<ul><li>All variables are now dot-prefixed to be more consistent with tidyverse style for functions that allow tidyeval.</li>
<li>The <code>before/after</code> arguments have been replaced with the <code>.window_size</code> and <code>.align</code> arguments.</li>
<li>
<code>names_sep</code> has been removed. If you return data frames from your computations:
<ul><li>without a name, they will be unpacked into separate columns without name prefixes</li>
<li>with a name, it will become a packed data.frame-class column (see <code><a href="https://tidyr.tidyverse.org/reference/pack.html" class="external-link">tidyr::pack</a></code>).</li>
</ul></li>
<li>
<code>as_list_col</code> has been removed. You can now directly return a list from your slide computations instead. If you were using <code>as_list_col=TRUE</code>, you will need to wrap your output in a list.</li>
<li>Ungrouped slides are no longer allowed in <code>epi_slide</code>. If you used this for geographic aggregation up to national, consider using <code>sum_groups_epi_df</code>.</li>
<li>Added <code>sum_groups_epi_df</code> to allow aggregation across key columns prior to sliding.</li>
</ul></li>
<li>
<code>epix_slide</code> interface has major changes.
<ul><li>All variables are now dot-prefixed to be more consistent with tidyverse style for functions that allow tidyeval.</li>
<li>
<code>names_sep</code> has been removed. If you return data frames from your computations:
<ul><li>without a name, they will be unpacked into separate columns without name prefixes</li>
<li>with a name, it will become a packed data.frame-class column (see <code><a href="https://tidyr.tidyverse.org/reference/pack.html" class="external-link">tidyr::pack</a></code>).</li>
</ul></li>
<li>
<code>as_list_col</code> has been removed. You can now directly return a list from your slide computations instead. If you were using <code>as_list_col=TRUE</code>, you will need to wrap your output in a list.</li>
</ul></li>
<li>
<code><a href="../reference/epi_df.html">as_epi_df()</a></code> now checks that every group has unique time values and errors if this is not the case. The same check is performed at the beginning of <code><a href="../reference/epi_slide.html">epi_slide()</a></code>. This check is currently not enforced in dplyr operations (like for joins, mutates, or select), but we plan to add it in the future.</li>
<li>
<code><a href="../reference/epi_df.html">as_epi_df()</a></code> or <code><a href="../reference/epi_archive.html">as_epi_archive()</a></code> no longer accept <code>additional_metadata</code>. Use the new <code>other_keys</code> arg to specify additional key columns, such as age group columns or other demographic breakdowns. Miscellaneous metadata are no longer handled by <code>epiprocess</code>, but you can use R’s built-in <code>attr&lt;-</code> instead for a similar feature.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-9">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-9"></a></h3>
<ul><li>Added <code>complete.epi_df</code>, which fills in missing values in an <code>epi_df</code> with <code>NA</code>s. Uses <code><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">tidyr::complete</a></code> underneath and preserves <code>epi_df</code> metadata.</li>
<li>Inclusion of the function <code>revision_summary</code> to provide basic revision information for <code>epi_archive</code>s out of the box. (<a href="https://github.com/cmu-delphi/epiprocess/issues492" class="external-link">#492</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9"></a></h3>
<ul><li>Fix <code>epi_slide_opt</code> (and related functions) to correctly handle <code>before=Inf</code>. Also allow multiple columns specified as a list of strings.</li>
<li>Disallow <code>after=Inf</code> in slide functions, since it doesn’t seem like a likely use case and complicates code.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8" id="epiprocess-08">epiprocess 0.8<a class="anchor" aria-label="anchor" href="#epiprocess-08"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-8">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-8"></a></h3>
<ul><li>
<code>epi_df</code>’s are now more strict about what types they allow in the time column. Namely, we are explicit about only supporting <code>Date</code> at the daily and weekly cadence and generic integer types (for yearly cadence).</li>
<li>
<code>epi_slide</code> <code>before</code> and <code>after</code> arguments are now require the user to specific time units in certain cases. The <code>time_step</code> argument has been removed.</li>
<li>
<code>epix_slide</code> <code>before</code> argument now defaults to <code>Inf</code>, and requires the user to specify units in some cases. The <code>time_step</code> argument has been removed.</li>
<li>
<code>detect_outlr_stl(seasonal_period = NULL)</code> is no longer accepted. Use <code>detect_outlr_stl(seasonal_period = &lt;value&gt;, seasonal_as_residual = TRUE)</code> instead. See <code><a href="../reference/detect_outlr.html">?detect_outlr_stl</a></code> for more details.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-8">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-8"></a></h3>
<ul><li>
<code>epi_slide</code> computations are now 2-4 times faster after changing how reference time values, made accessible within sliding functions, are calculated (<a href="https://github.com/cmu-delphi/epiprocess/issues397" class="external-link">#397</a>).</li>
<li>Add new <code>epi_slide_mean</code> function to allow much (~30x) faster rolling average computations in some cases (<a href="https://github.com/cmu-delphi/epiprocess/issues400" class="external-link">#400</a>).</li>
<li>Add new <code>epi_slide_sum</code> function to allow much faster rolling sum computations in some cases (<a href="https://github.com/cmu-delphi/epiprocess/issues433" class="external-link">#433</a>).</li>
<li>Add new <code>epi_slide_opt</code> function to allow much faster rolling computations in some cases, using <code>data.table</code> and <code>slider</code> optimized rolling functions (<a href="https://github.com/cmu-delphi/epiprocess/issues433" class="external-link">#433</a>).</li>
<li>Add tidyselect interface for <code>epi_slide_opt</code> and derivatives (<a href="https://github.com/cmu-delphi/epiprocess/issues452" class="external-link">#452</a>).</li>
<li>regenerated the <code>jhu_csse_daily_subset</code> dataset with the latest versions of the data from the API</li>
<li>changed approach to versioning, see DEVELOPMENT.md for details</li>
<li>
<code>select</code> on grouped <code>epi_df</code>s now only drops <code>epi_df</code>ness if it makes sense; PR <a href="https://github.com/cmu-delphi/epiprocess/issues390" class="external-link">#390</a></li>
<li>Minor documentation updates; PR <a href="https://github.com/cmu-delphi/epiprocess/issues393" class="external-link">#393</a></li>
<li>Improved <code>epi_archive</code> print method. Compactified metadata and shows a snippet of the underlying <code>DT</code> (<a href="https://github.com/cmu-delphi/epiprocess/issues341" class="external-link">#341</a>).</li>
<li>Added <code>autoplot</code> method for <code>epi_df</code> objects, which creates a <code>ggplot2</code> plot of the <code>epi_df</code> (<a href="https://github.com/cmu-delphi/epiprocess/issues382" class="external-link">#382</a>).</li>
<li>Refactored internals to use <code>cli</code> for warnings/errors and <code>checkmate</code> for argument checking (<a href="https://github.com/cmu-delphi/epiprocess/issues413" class="external-link">#413</a>).</li>
<li>Fix logic to auto-assign <code>epi_df</code> <code>time_type</code> to <code>week</code> (<a href="https://github.com/cmu-delphi/epiprocess/issues416" class="external-link">#416</a>) and <code>year</code> (<a href="https://github.com/cmu-delphi/epiprocess/issues441" class="external-link">#441</a>).</li>
<li>Clarified “Get started” example of getting Ebola line list data into <code>epi_df</code> format.</li>
<li>Improved documentation web site landing page’s introduction.</li>
<li>Fixed documentation referring to old <code><a href="../reference/epi_slide.html">epi_slide()</a></code> interface (<a href="https://github.com/cmu-delphi/epiprocess/issues466" class="external-link">#466</a>, thanks @XuedaShen!).</li>
<li>
<code>as_epi_df</code> and <code>as_epi_archive</code> now support arguments to specify column names e.g. <code>as_epi_df(some_tibble, geo_value=state)</code>. In addition, there is a list of default conversions, see <code>time_column_names</code> for a list of columns that will automatically be recognized and converted to <code>time_value</code> column (there are similar functions for <code>geo</code> and <code>version</code>).</li>
<li>Fixed bug where <code>epix_slide_ref_time_values_default()</code> on datetimes would output a huge number of <code>ref_time_values</code> spaced apart by mere seconds.</li>
<li>In <code><a href="../reference/epi_slide.html">epi_slide()</a></code> and <code><a href="../reference/epix_slide.html">epix_slide()</a></code>:
<ul><li>Multiple “data-masking” tidy evaluation expressions can be passed in via <code>...</code>, rather than just one.</li>
<li>Additional tidy evaluation features from <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate</a></code> are supported: <code>!! name_var := value</code>, unnamed expressions evaluating to data frames, and <code>= NULL</code>; see <code><a href="../reference/epi_slide.html">?epi_slide</a></code> for more details.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-8">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-8"></a></h3>
<ul><li>Resolved some linting messages in package checks (<a href="https://github.com/cmu-delphi/epiprocess/issues468" class="external-link">#468</a>).</li>
<li>Added optional <code>decay_to_tibble</code> attribute controlling <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble()</a></code> behavior of <code>epi_df</code>s to let <a href="https://github.com/cmu-delphi/epipredict/" class="external-link">epipredict</a> work more easily with other libraries (<a href="https://github.com/cmu-delphi/epiprocess/issues471" class="external-link">#471</a>).</li>
<li>Removed some external package dependencies.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="epiprocess-070">epiprocess 0.7.0<a class="anchor" aria-label="anchor" href="#epiprocess-070"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-7-0">Breaking changes:<a class="anchor" aria-label="anchor" href="#breaking-changes-0-7-0"></a></h3>
<ul><li>Switched <code>epi_df</code>’s <code>other_keys</code> default from <code>NULL</code> to <code>character(0)</code>; PR <a href="https://github.com/cmu-delphi/epiprocess/issues390" class="external-link">#390</a></li>
<li>Refactored <code>epi_archive</code> to use S3 instead of R6 for its object model. The functionality stay the same, but it will break the member function interface. For migration, you can usually just convert <code>epi_archive$merge(...)</code> to <code>epi_archive &lt;- epi_archive %&gt;% epix_merge(...)</code> (and the same for <code>fill_through_version</code> and <code>truncate_after_version</code>) and <code>epi_archive$slide(...)</code> to <code>epi_archive %&gt;% epix_slide(...)</code> (and the same for <code>as_of</code>, <code>group_by</code>, <code>slide</code>, etc.) (<a href="https://github.com/cmu-delphi/epiprocess/issues340" class="external-link">#340</a>). In some limited situations, such as if you have a helper function that calls <code>epi_archive$merge</code> etc. on one of its arguments, then you may need to more carefully refactor them.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="epiprocess-070-1">epiprocess 0.7.0<a class="anchor" aria-label="anchor" href="#epiprocess-070-1"></a></h2>
<div class="section level3">
<h3 id="improvements-0-7-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-7-0"></a></h3>
<ul><li>Updated vignettes for compatibility with epidatr 1.0.0 in PR <a href="https://github.com/cmu-delphi/epiprocess/issues377" class="external-link">#377</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-7-0-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-7-0-1"></a></h3>
<ul><li>Changes to <code>epi_slide</code> and <code>epix_slide</code>:
<ul><li>If <code>f</code> is a function, it is now required to take at least three arguments. <code>f</code> must take an <code>epi_df</code> with the same column names as the archive’s <code>DT</code>, minus the <code>version</code> column; followed by a one-row tibble containing the values of the grouping variables for the associated group; followed by a reference time value, usually as a <code>Date</code> object. Optionally, it can take any number of additional arguments after that, and forward values for those arguments through <code>epi[x]_slide</code>’s <code>...</code> args.
<ul><li>To make your existing slide computations work, add a third argument to your <code>f</code> function to accept this new input: e.g., change <code>f = function(x, g, &lt;any other arguments&gt;) { &lt;body&gt; }</code> to <code>f = function(x, g, rt, &lt;any other arguments&gt;) { &lt;body&gt; }</code>.</li>
</ul></li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-7-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-7-0"></a></h3>
<ul><li>
<code>epi_slide</code> and <code>epix_slide</code> also make the window data, group key and reference time value available to slide computations specified as formulas or tidy evaluation expressions, in additional or completely new ways.
<ul><li>If <code>f</code> is a formula, it can now access the reference time value via <code>.z</code> or <code>.ref_time_value</code>.</li>
<li>If <code>f</code> is missing, the tidy evaluation expression in <code>...</code> can now refer to the window data as an <code>epi_df</code> or <code>tibble</code> with <code>.x</code>, the group key with <code>.group_key</code>, and the reference time value with <code>.ref_time_value</code>. The usual <code>.data</code> and <code>.env</code> pronouns also work, but<code><a href="https://dplyr.tidyverse.org/reference/pick.html" class="external-link">pick()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/deprec-context.html" class="external-link">cur_data()</a></code> are not; work off of <code>.x</code> instead.</li>
</ul></li>
<li>
<code>epix_slide</code> has been made more like <code><a href="https://dplyr.tidyverse.org/reference/group_map.html" class="external-link">dplyr::group_modify</a></code>. It will no longer perform element/row recycling for size stability, accepts slide computation outputs containing any number of rows, and no longer supports <code>all_rows</code>.
<ul><li>To keep the old behavior, manually perform row recycling within <code>f</code> computations, and/or <code>left_join</code> a data frame representing the desired output structure with the current <code><a href="../reference/epix_slide.html">epix_slide()</a></code> result to obtain the desired repetitions and completions expected with <code>all_rows = TRUE</code>.</li>
</ul></li>
<li>
<code>epix_slide</code> will only output grouped or ungrouped tibbles. Previously, it would sometimes output <code>epi_df</code>s, but not consistently, and not always with the metadata desired. Future versions will revisit this design, and consider more closely whether/when/how to output an <code>epi_df</code>.
<ul><li>To keep the old behavior, convert the output of <code><a href="../reference/epix_slide.html">epix_slide()</a></code> to <code>epi_df</code> when desired and set the metadata appropriately.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-7-0-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-7-0-1"></a></h3>
<ul><li>
<code>epi_slide</code> and <code>epix_slide</code> now support <code>as_list_col = TRUE</code> when the slide computations output atomic vectors, and output a list column in “chopped” format (see <code><a href="https://tidyr.tidyverse.org/reference/chop.html" class="external-link">tidyr::chop</a></code>).</li>
<li>
<code>epi_slide</code> now works properly with slide computations that output just a <code>Date</code> vector, rather than converting <code>slide_value</code> to a numeric column.</li>
<li>Fix <code><a href="https://cmu-delphi.github.io/epidatasets/reference/archive_cases_dv_subset.html" class="external-link">?archive_cases_dv_subset</a></code> information regarding modifications of upstream data by @brookslogan in (<a href="https://github.com/cmu-delphi/epiprocess/issues299" class="external-link">#299</a>).</li>
<li>Update to use updated <code>epidatr</code> (<code>fetch_tbl</code> -&gt; <code>fetch</code>) by @brookslogan in (<a href="https://github.com/cmu-delphi/epiprocess/issues319" class="external-link">#319</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="epiprocess-060">epiprocess 0.6.0<a class="anchor" aria-label="anchor" href="#epiprocess-060"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-6-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-6-0"></a></h3>
<ul><li>Changes to both <code>epi_slide</code> and <code>epix_slide</code>:
<ul><li>The <code>n</code>, <code>align</code>, and <code>before</code> arguments have been replaced by new <code>before</code> and <code>after</code> arguments. To migrate to the new version, replace these arguments in every <code>epi_slide</code> and <code>epix_slide</code> call. If you were only using the <code>n</code> argument, then this means replacing <code>n = &lt;n value&gt;</code> with <code>before = &lt;n value&gt; - 1</code>.
<ul><li>
<code>epi_slide</code>’s time windows now extend <code>before</code> time steps before and <code>after</code> time steps after the corresponding <code>ref_time_values</code>. See <code><a href="../reference/epi_slide.html">?epi_slide</a></code> for details on matching old alignments.</li>
<li>
<code>epix_slide</code>’s time windows now extend <code>before</code> time steps before the corresponding <code>ref_time_values</code> all the way through the latest data available at the corresponding <code>ref_time_values</code>.</li>
</ul></li>
<li>Slide functions now keep any grouping of <code>x</code> in their results, like <code>mutate</code> and <code>group_modify</code>.
<ul><li>To obtain the old behavior, <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::ungroup</a></code> the slide results immediately.</li>
</ul></li>
</ul></li>
<li>Additional <code>epi_slide</code> changes:
<ul><li>When using <code>as_list_col = TRUE</code> together with <code>ref_time_values</code> and <code>all_rows=TRUE</code>, the marker for excluded computations is now a <code>NULL</code> entry in the list column, rather than a <code>NA</code>; if you are using <code><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">tidyr::unnest()</a></code> afterward and want to keep these missing data markers, you will need to replace the <code>NULL</code> entries with <code>NA</code>s. Skipped computations are now more uniformly detectable using <code>vctrs</code> methods.</li>
</ul></li>
<li>Additional<code>epix_slide</code> changes:
<ul><li>
<code>epix_slide</code>’s <code>group_by</code> argument has been replaced by <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::ungroup</a></code> S3 methods. The <code>group_by</code> method uses “data masking” (also referred to as “tidy evaluation”) rather than “tidy selection”.
<ul><li>Old syntax:
<ul><li><code>x %&gt;% epix_slide(&lt;other args&gt;, group_by=c(col1, col2))</code></li>
<li><code>x %&gt;% epix_slide(&lt;other args&gt;, group_by=all_of(colname_vector))</code></li>
</ul></li>
<li>New syntax:
<ul><li><code>x %&gt;% group_by(col1, col2) %&gt;% epix_slide(&lt;other args&gt;)</code></li>
<li><code>x %&gt;% group_by(across(all_of(colname_vector))) %&gt;% epix_slide(&lt;other args&gt;)</code></li>
</ul></li>
</ul></li>
<li>
<code>epix_slide</code> no longer defaults to grouping by non-<code>time_value</code>, non-<code>version</code> key columns, instead considering all data to be in one big group.
<ul><li>To obtain the old behavior, precede each <code>epix_slide</code> call lacking a <code>group_by</code> argument with an appropriate <code>group_by</code> call.</li>
</ul></li>
<li>
<code>epix_slide</code> now guesses <code>ref_time_values</code> to be a regularly spaced sequence covering all the <code>DT$version</code> values and the <code>version_end</code>, rather than the distinct <code>DT$time_value</code>s. To obtain the old behavior, pass in <code>ref_time_values = unique(&lt;ungrouped archive&gt;$DT$time_value)</code>.</li>
</ul></li>
<li>
<code>epi_archive</code>’s <code>clobberable_versions_start</code>’s default is now <code>NA</code>, so there will be no warnings by default about potential nonreproducibility. To obtain the old behavior, pass in <code>clobberable_versions_start = max_version_with_row_in(x)</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="potentially-breaking-changes-0-6-0">Potentially-breaking changes<a class="anchor" aria-label="anchor" href="#potentially-breaking-changes-0-6-0"></a></h3>
<ul><li>Fixed <code>[</code> on grouped <code>epi_df</code>s to maintain the grouping if possible when dropping the <code>epi_df</code> class (e.g., when removing the <code>time_value</code> column).</li>
<li>Fixed <code>epi_df</code> operations to be more consistent about decaying into non-<code>epi_df</code>s when the result of the operation doesn’t make sense as an <code>epi_df</code> (e.g., when removing the <code>time_value</code> column).</li>
<li>Changed <code>bind_rows</code> on grouped <code>epi_df</code>s to not drop the <code>epi_df</code> class. Like with ungrouped <code>epi_df</code>s, the metadata of the result is still simply taken from the first result, and may be inappropriate (<a href="https://github.com/cmu-delphi/epiprocess/issues/242" class="external-link">#242</a>).</li>
<li>
<code>epi_slide</code> and <code>epix_slide</code> now raise an error rather than silently filtering out <code>ref_time_values</code> that don’t meet their expectations.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-6-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-6-0"></a></h3>
<ul><li>
<code>epix_slide</code>, <code>&lt;epi_archive&gt;$slide</code> have a new parameter <code>all_versions</code>. With <code>all_versions=TRUE</code>, <code>epix_slide</code> will pass a filtered <code>epi_archive</code> to each computation rather than an <code>epi_df</code> snapshot. This enables, e.g., performing pseudoprospective forecasts with a revision-aware forecaster using nested <code>epix_slide</code> operations.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-6-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-6-0"></a></h3>
<ul><li>Added <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::ungroup</a></code> S3 methods for <code>epi_archive</code> objects, plus corresponding <code>$group_by</code> and <code>$ungroup</code> R6 methods. The <code>group_by</code> implementation supports the <code>.add</code> and <code>.drop</code> arguments, and <code>ungroup</code> supports partial ungrouping with <code>...</code>.</li>
<li>
<code>as_epi_archive</code>, <code>epi_archive$new</code> now perform checks for the key uniqueness requirement (part of <a href="https://github.com/cmu-delphi/epiprocess/issues/154" class="external-link">#154</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-6-0">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-6-0"></a></h3>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
<li>Implemented <code><a href="https://dplyr.tidyverse.org/reference/dplyr_extending.html" class="external-link">?dplyr::dplyr_extending</a></code> for <code>epi_df</code>s (<a href="https://github.com/cmu-delphi/epiprocess/issues/223" class="external-link">#223</a>).</li>
<li>Fixed various small documentation issues (<a href="https://github.com/cmu-delphi/epiprocess/issues/217" class="external-link">#217</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="epiprocess-050">epiprocess 0.5.0<a class="anchor" aria-label="anchor" href="#epiprocess-050"></a></h2>
<div class="section level3">
<h3 id="potentially-breaking-changes-0-5-0">Potentially-breaking changes<a class="anchor" aria-label="anchor" href="#potentially-breaking-changes-0-5-0"></a></h3>
<ul><li>
<code>epix_slide</code>, <code>&lt;epi_archive&gt;$slide</code> now feed <code>f</code> an <code>epi_df</code> rather than converting to a tibble/<code>tbl_df</code> first, allowing use of <code>epi_df</code> methods and metadata, and often yielding <code>epi_df</code>s out of the slide as a result. To obtain the old behavior, convert to a tibble within <code>f</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-5-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-5-0"></a></h3>
<ul><li>Fixed <code>epix_merge</code>, <code>&lt;epi_archive&gt;$merge</code> always raising error on <code>sync="truncate"</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-5-0">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-5-0"></a></h3>
<ul><li>Added <code>Remotes:</code> entry for <code>genlasso</code>, which was removed from CRAN.</li>
<li>Added <code>as_epi_archive</code> tests.</li>
<li>Added missing <code>epix_merge</code> test for <code>sync="truncate"</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="epiprocess-040">epiprocess 0.4.0<a class="anchor" aria-label="anchor" href="#epiprocess-040"></a></h2>
<div class="section level3">
<h3 id="potentially-breaking-changes-0-4-0">Potentially-breaking changes<a class="anchor" aria-label="anchor" href="#potentially-breaking-changes-0-4-0"></a></h3>
<ul><li>Fixed <code>[.epi_df</code> to not reorder columns, which was incompatible with downstream packages.</li>
<li>Changed <code>[.epi_df</code> decay-to-tibble logic to more coherent with <code>epi_df</code>s current tolerance of nonunique keys: stopped decaying to a tibble in some cases where a unique key wouldn’t have been preserved, since we don’t enforce a unique key elsewhere.</li>
<li>Fixed <code>[.epi_df</code> to adjust <code>"other_keys"</code> metadata when corresponding columns are selected out.</li>
<li>Fixed <code>[.epi_df</code> to raise an error if resulting column names would be nonunique.</li>
<li>Fixed <code>[.epi_df</code> to drop metadata if decaying to a tibble (due to removal of essential columns).</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-4-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-0"></a></h3>
<ul><li>Added check that <code>epi_df</code> <code>additional_metadata</code> is list.</li>
<li>Fixed some incorrect <code>as_epi_df</code> examples.</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-4-0">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-4-0"></a></h3>
<ul><li>Applied rename of upstream package in examples: <code>delphi.epidata</code> -&gt; <code>epidatr</code>.</li>
<li>Rounded out <code>[.epi_df</code> tests.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="epiprocess-030">epiprocess 0.3.0<a class="anchor" aria-label="anchor" href="#epiprocess-030"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-3-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-0"></a></h3>
<ul><li>
<code>as_epi_archive</code>, <code>epi_archive$new</code>:
<ul><li>Compactification (see below) by default may change results if working directly with the <code>epi_archive</code>’s <code>DT</code> field; to disable, pass in <code>compactify=FALSE</code>.</li>
</ul></li>
<li>
<code>epi_archive</code>’s wrappers and R6 methods have been updated to follow these rules regarding reference semantics:
<ul><li>
<code>epix_&lt;method&gt;</code> will not mutate input <code>epi_archive</code>s, but may alias them or alias their fields (which should not be a worry if a user sticks to these <code>epix_*</code> functions and “regular” R functions with copy-on-write-like behavior, avoiding mutating functions <code>[.data.table</code>).</li>
<li>
<code>x$&lt;method&gt;</code> may mutate <code>x</code>; if it mutates <code>x</code>, it will return <code>x</code> invisibly (where this makes sense), and, for each of its fields, may either mutate the object to which it refers or reseat the reference (but not both); if <code>x$&lt;method&gt;</code> does not mutate <code>x</code>, its result may contain aliases to <code>x</code> or its fields.</li>
</ul></li>
<li>
<code>epix_merge</code>, <code>&lt;epi_archive&gt;$merge</code>:
<ul><li>Removed <code>...</code>, <code>locf</code>, and <code>nan</code> parameters.</li>
<li>Changed the default behavior, which now corresponds to using <code>by=key(x$DT)</code> (but demanding that is the same set of column names as <code>key(y$DT)</code>), <code>all=TRUE</code>, <code>locf=TRUE</code>, <code>nan=NaN</code> (but with the post-filling step fixed to only apply to gaps, and no longer fill over <code>NA</code>s originating from <code>x$DT</code> and <code>y$DT</code>).</li>
<li>
<code>x</code> and <code>y</code> are no longer allowed to share names of non-<code>by</code> columns.</li>
<li>
<code>epix_merge</code> no longer mutates its <code>x</code> argument (but <code>$merge</code> continues to do so).</li>
<li>Removed (undocumented) capability of passing a <code>data.table</code> as <code>y</code>.</li>
</ul></li>
<li>
<code>epix_slide</code>:
<ul><li>Removed inappropriate/misleading <code>n=7</code> default argument (due to reporting latency, <code>n=7</code> will <em>not</em> yield 7 days of data in a typical daily-reporting surveillance data source, as one might have assumed).</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-3-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h3>
<ul><li>
<code>as_epi_archive</code>, <code>epi_archive$new</code>:
<ul><li>New <code>compactify</code> parameter allows removal of rows that are redundant for the purposes of <code>epi_archive</code>’s methods, which use the last version of each observation carried forward.</li>
<li>New <code>clobberable_versions_start</code> field allows marking a range of versions that could be “clobbered” (rewritten without assigning new version tags); previously, this was hard-coded as <code>max(&lt;epi_archive&gt;$DT$version)</code>.</li>
<li>New <code>versions_end</code> field allows marking a range of versions beyond <code>max(&lt;epi_archive&gt;$DT$version)</code> that were observed, but contained no changes.</li>
</ul></li>
<li>
<code>epix_merge</code>, <code>$merge</code>:
<ul><li>New <code>sync</code> parameter controls what to do if <code>x</code> and <code>y</code> aren’t equally up to date (i.e., if <code>x$versions_end</code> and <code>y$versions_end</code> are different).</li>
</ul></li>
<li>New function <code>epix_fill_through_version</code>, method <code>&lt;epi_archive&gt;$fill_through_version</code>: non-mutating &amp; mutating way to ensure that an archive contains versions at least through some <code>fill_versions_end</code>, extrapolating according to <code>how</code> if necessary.</li>
<li>Example archive data object is now constructed on demand from its underlying data, so it will be based on the user’s version of <code>epi_archive</code> rather than an outdated R6 implementation from whenever the data object was generated.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="epiprocess-020">epiprocess 0.2.0<a class="anchor" aria-label="anchor" href="#epiprocess-020"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2-0"></a></h3>
<ul><li>Removed default <code>n=7</code> argument to <code>epix_slide</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-2-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-2-0"></a></h3>
<ul><li>Ignore <code>NA</code>s when printing <code>time_value</code> range for an <code>epi_archive</code>.</li>
<li>Fixed misleading column naming in <code>epix_slide</code> example.</li>
<li>Trimmed down <code>epi_slide</code> examples.</li>
<li>Synced out-of-date docs.</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-2-0">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-2-0"></a></h3>
<ul><li>Removed dependency of some <code>epi_archive</code> tests on an example archive. object, and made them more understandable by reading without running.</li>
<li>Fixed <code>epi_df</code> tests relying on an S3 method for <code>epi_df</code> implemented externally to <code>epiprocess</code>.</li>
<li>Added tests for <code>epi_archive</code> methods and wrapper functions.</li>
<li>Removed some dead code.</li>
<li>Made <code>.{Rbuild,git}ignore</code> files more comprehensive.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="epiprocess-012">epiprocess 0.1.2<a class="anchor" aria-label="anchor" href="#epiprocess-012"></a></h2>
<div class="section level3">
<h3 id="new-features-0-1-2">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-2"></a></h3>
<ul><li>New <code>new_epi_df</code> function is similar to <code>as_epi_df</code>, but (i) recalculates, overwrites, and/or drops most metadata of <code>x</code> if it has any, (ii) may still reorder the columns of <code>x</code> even if it’s already an <code>epi_df</code>, and
<ol start="3" style="list-style-type: lower-roman"><li>treats <code>x</code> as optional, constructing an empty <code>epi_df</code> by default.</li>
</ol></li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-1-2">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-2"></a></h3>
<ul><li>Fixed <code>geo_type</code> guessing on alphabetical strings with more than 2 characters to yield <code>"custom"</code>, not US <code>"nation"</code>.</li>
<li>Fixed <code>time_type</code> guessing to actually detect <code>Date</code>-class <code>time_value</code>s regularly spaced 7 days apart as <code>"week"</code>-type as intended.</li>
<li>Improved printing of <code>epi_df</code>s, <code>epi_archives</code>s.</li>
<li>Fixed <code>as_of</code> to not cut off any (forecast-like) data with <code>time_value &gt; max_version</code>.</li>
<li>Expanded <code>epi_df</code> docs to include conversion from <code>tsibble</code>/<code>tbl_ts</code> objects, usage of <code>other_keys</code>, and pre-processing objects not following the <code>geo_value</code>, <code>time_value</code> naming scheme.</li>
<li>Expanded <code>epi_slide</code> examples to show how to use an <code>f</code> argument with named parameters.</li>
<li>Updated examples to print relevant columns given a common 80-column terminal width.</li>
<li>Added growth rate examples.</li>
<li>Improved <code>as_epi_archive</code> and <code>epi_archive$new</code>/<code>$initialize</code> documentation, including constructing a toy archive.</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-1-2">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-1-2"></a></h3>
<ul><li>Added tests for <code>epi_slide</code>, <code>epi_cor</code>, and internal utility functions.</li>
<li>Fixed currently-unused internal utility functions <code>MiddleL</code>, <code>MiddleR</code> to yield correct results on odd-length vectors.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="epiprocess-011-1">epiprocess 0.1.1<a class="anchor" aria-label="anchor" href="#epiprocess-011-1"></a></h2>
<div class="section level3">
<h3 id="new-features-0-1-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-1"></a></h3>
<ul><li>New example data objects allow one to quickly experiment with <code>epi_df</code>s and <code>epi_archives</code> without relying/waiting on an API to fetch data.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-1-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-1"></a></h3>
<ul><li>Improved <code>epi_slide</code> error messaging.</li>
<li>Fixed description of the appropriate parameters for an <code>f</code> argument to <code>epi_slide</code>; previous description would give incorrect behavior if <code>f</code> had named parameters that did not receive values from <code>epi_slide</code>’s <code>...</code>.</li>
<li>Added some examples throughout the package.</li>
<li>Using example data objects in vignettes also speeds up vignette compilation.</li>
</ul></div>
<div class="section level3">
<h3 id="cleanup-0-1-1">Cleanup<a class="anchor" aria-label="anchor" href="#cleanup-0-1-1"></a></h3>
<ul><li>Set up gh-actions CI.</li>
<li>Added tests for <code>epi_df</code>s.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="epiprocess-010-1">epiprocess 0.1.0<a class="anchor" aria-label="anchor" href="#epiprocess-010-1"></a></h2>
<div class="section level3">
<h3 id="implemented-core-functionality-vignettes-0-1-0">Implemented core functionality, vignettes<a class="anchor" aria-label="anchor" href="#implemented-core-functionality-vignettes-0-1-0"></a></h3>
<ul><li>Classes:
<ul><li>
<code>epi_df</code>: specialized <code>tbl_df</code> for geotemporal epidemiological time series data, with optional metadata recording other key columns (e.g., demographic breakdowns) and <code>as_of</code> what time/version this data was current/published. Associated functions:
<ul><li>
<code>as_epi_df</code> converts to an <code>epi_df</code>, guessing the <code>geo_type</code>, <code>time_type</code>, <code>other_keys</code>, and <code>as_of</code> if not specified.</li>
<li>
<code>as_epi_df.tbl_ts</code> and <code>as_tsibble.epi_df</code> automatically set <code>other_keys</code> and <code>key</code>&amp;<code>index</code>, respectively.</li>
<li>
<code>epi_slide</code> applies a user-supplied computation to a sliding/rolling time window and user-specified groups, adding the results as new columns, and recycling/broadcasting results to keep the result size stable. Allows computation to be provided as a function, <code>purrr</code>-style formula, or tidyeval dots. Uses <code>slider</code> underneath for efficiency.</li>
<li>
<code>epi_cor</code> calculates Pearson, Kendall, or Spearman correlations between two (optionally time-shifted) variables in an <code>epi_df</code> within user-specified groups.</li>
<li>Convenience function: <code>is_epi_df</code>.</li>
</ul></li>
<li>
<code>epi_archive</code>: R6 class for version (patch) data for geotemporal epidemiological time series data sets. Comes with S3 methods and regular functions that wrap around this functionality for those unfamiliar with R6 methods. Associated functions:
<ul><li>
<code>as_epi_archive</code>: prepares an <code>epi_archive</code> object from a data frame containing snapshots and/or patch data for every available version of the data set.</li>
<li>
<code>as_of</code>: extracts a snapshot of the data set as of some requested version, in <code>epi_df</code> format.</li>
<li>
<code>epix_slide</code>, <code>&lt;epi_archive&gt;$slide</code>: similar to <code>epi_slide</code>, but for <code>epi_archive</code>s; for each requested <code>ref_time_value</code> and group, applies a time window and user-specified computation to a snapshot of the data as of <code>ref_time_value</code>.</li>
<li>
<code>epix_merge</code>, <code>&lt;epi_archive&gt;$merge</code>: like <code>merge</code> for <code>epi_archive</code>s, but allowing for the last version of each observation to be carried forward to fill in gaps in <code>x</code> or <code>y</code>.</li>
<li>Convenience function: <code>is_epi_archive</code>.</li>
</ul></li>
</ul></li>
<li>Additional functions:
<ul><li>
<code>growth_rate</code>: estimates growth rate of a time series using one of a few built-in <code>method</code>s based on relative change, linear regression, smoothing splines, or trend filtering.</li>
<li>
<code>detect_outlr</code>: applies one or more outlier detection methods to a given signal variable, and optionally aggregates the outputs to create a consensus result.</li>
<li>
<code>detect_outlr_rm</code>: outlier detection function based on a rolling-median-based outlier detection function; one of the methods included in <code>detect_outlr</code>.</li>
<li>
<code>detect_outlr_stl</code>: outlier detection function based on a seasonal-trend decomposition using LOESS (STL); one of the methods included in <code>detect_outlr</code>.</li>
</ul></li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p><a href="https://delphi.cmu.edu/about/" class="external-link">About Delphi</a> • <a href="https://delphi.cmu.edu/epidemic-signals/terms-of-use/" class="external-link">Terms of Use</a> • <a href="https://docs.google.com/forms/u/1/d/e/1FAIpQLScqgT1fKZr5VWBfsaSp-DNaN03aV6EoZU4YljIzHJ1Wl_zmtg/viewform" class="external-link">Contact Us</a> • <a href="https://github.com/cmu-delphi/" class="external-link">Delphi GitHub</a> • <a href="https://cmu-delphi.github.io/delphi-epidata/" class="external-link">Epidata API</a></p>
</div>

<div class="pkgdown-footer-right">
  <p>epiprocess</p>
</div>

    </footer></div>





  </body></html>

