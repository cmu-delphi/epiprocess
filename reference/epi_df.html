<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="An epi_df is a tibble with certain minimal column structure
and metadata. It can be seen as a snapshot of a data set that contains the
most up-to-date values of some signal variables of interest, as of a given
time."><title>epi_df object — epi_df • epiprocess</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="epi_df object — epi_df"><meta property="og:description" content="An epi_df is a tibble with certain minimal column structure
and metadata. It can be seen as a snapshot of a data set that contains the
most up-to-date values of some signal variables of interest, as of a given
time."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">epiprocess</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/epiprocess.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/slide.html">Slide a computation over signal values</a>
    <a class="dropdown-item" href="../articles/growth_rate.html">Estimate growth rates in signals</a>
    <a class="dropdown-item" href="../articles/correlation.html">Correlate signals over space and time</a>
    <a class="dropdown-item" href="../articles/aggregation.html">Aggregate signals over space and time</a>
    <a class="dropdown-item" href="../articles/outliers.html">Detect and correct outliers in signals</a>
    <a class="dropdown-item" href="../articles/archive.html">Work with archive objects and data revisions</a>
    <a class="dropdown-item" href="../articles/advanced.html">Advanced sliding with nonstandard outputs</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/cmu-delphi/epiprocess/tree/main/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1><code>epi_df</code> object</h1>
      <small class="dont-index">Source: <a href="https://github.com/cmu-delphi/epiprocess/blob/main/R/epi_df.R" class="external-link"><code>R/epi_df.R</code></a></small>
      <div class="d-none name"><code>epi_df.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An <code>epi_df</code> is a tibble with certain minimal column structure
and metadata. It can be seen as a snapshot of a data set that contains the
most up-to-date values of some signal variables of interest, as of a given
time.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>An <code>epi_df</code> is a tibble with (at least) the following columns:</p><ul><li><p><code>geo_value</code>: the geographic value associated with each row of measurements.</p></li>
<li><p><code>time_value</code>: the time value associated with each row of measurements.</p></li>
</ul><p>Other columns can be considered as measured variables, which we also refer to
as signal variables. An <code>epi_df</code> object also has metadata with (at least)
the following fields:</p><ul><li><p><code>geo_type</code>: the type for the geo values.</p></li>
<li><p><code>time_type</code>: the type for the time values.</p></li>
<li><p><code>as_of</code>: the time value at which the given data were available.</p></li>
</ul><p>Metadata for an <code>epi_df</code> object <code>x</code> can be accessed (and altered) via
<code>attributes(x)$metadata</code>. The first two fields in the above list,
<code>geo_type</code> and <code>time_type</code>, can usually be inferred from the <code>geo_value</code>
and <code>time_value</code> columns, respectively. They are not currently used by any
downstream functions in the <code>epiprocess</code> package, and serve only as useful
bits of information to convey about the data set at hand. More information
on their coding is given below.</p>
<p>The last field in the above list, <code>as_of</code>, is one of the most unique aspects
of an <code>epi_df</code> object. In brief, we can think of an <code>epi_df</code> object as a
single snapshot of a data set that contains the most up-to-date values of
the signals variables, as of the time specified in the <code>as_of</code> field.</p>
<p>A companion object is the <code>epi_archive</code> object, which contains the full
version history of a given data set. Revisions are common in many types of
epidemiological data streams, and paying attention to data revisions can be
important for all sorts of downstream data analysis and modeling tasks. See
the documentation for <code><a href="epi_archive.html">epi_archive</a></code> for more details on how
data versioning works in the <code>epiprocess</code> package (including how to
generate <code>epi_df</code> objects, as data snapshots, from an <code>epi_archive</code>
object).</p>
    </div>
    <div class="section level2">
    <h2 id="geo-types">Geo Types<a class="anchor" aria-label="anchor" href="#geo-types"></a></h2>
    

<p>The following geo types are recognized in an <code>epi_df</code>.</p><ul><li><p><code>"county"</code>: each observation corresponds to a U.S. county; coded by 5-digit
FIPS code.</p></li>
<li><p><code>"hrr"</code>: each observation corresponds to a U.S. hospital referral region
(designed to represent regional healthcare markets); there are 306 HRRs in
the U.S; coded by number (nonconsecutive, between 1 and 457).</p></li>
<li><p><code>"state"</code>: each observation corresponds to a U.S. state; coded by 2-digit
postal abbreviation (lowercase);
note that Puerto Rico is "pr" and Washington D.C. is "dc".</p></li>
<li><p><code>"hhs"</code>: each observation corresponds to a U.S. HHS region; coded by number
(consecutive, between 1 and 10).</p></li>
<li><p><code>"nation"</code>: each observation corresponds to a country; coded by ISO 31661-
alpha-2 country codes (lowercase).</p></li>
</ul><p>An unrecognizable geo type is labeled "custom".</p>
    </div>
    <div class="section level2">
    <h2 id="time-types">Time Types<a class="anchor" aria-label="anchor" href="#time-types"></a></h2>
    

<p>The following time types are recognized in an <code>epi_df</code>.</p><ul><li><p><code>"day-time"</code>: each observation corresponds to a time on a given day
(measured to the second); coded as a <code>POSIXct</code> object, as in
<code>as.POSIXct("2022-01-31 18:45:40")</code>.</p></li>
<li><p><code>"day"</code>: each observation corresponds to a day; coded as a <code>Date</code> object,
as in <code>as.Date("2022-01-31")</code>.</p></li>
<li><p><code>"week"</code>: each observation corresponds to a week; the alignment can be
arbitrary (as to whether a week starts on a Monday, Tuesday); coded as a
<code>Date</code> object, representing the start date of week.</p></li>
<li><p><code>"yearweek"</code>: each observation corresponds to a week; the alignment can be
arbitrary; coded as a <code><a href="https://tsibble.tidyverts.org/reference/year-week.html" class="external-link">tsibble::yearweek</a></code> object, where the alignment is
stored in the <code>week_start</code> field of its attributes.</p></li>
<li><p><code>"yearmonth"</code>: each observation corresponds to a month; coded as a
<code><a href="https://tsibble.tidyverts.org/reference/year-month.html" class="external-link">tsibble::yearmonth</a></code> object.</p></li>
<li><p><code>"yearquarter"</code>: each observation corresponds to a quarter; coded as a
<code><a href="https://tsibble.tidyverts.org/reference/year-quarter.html" class="external-link">tsibble::yearquarter</a></code> object.</p></li>
<li><p><code>"year"</code>: each observation corresponds to a year; coded as an integer
greater than or equal to 1582.</p></li>
</ul><p>An unrecognizable time type is labeled "custom".</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Logan Brooks, Daniel McDonald, Evan Ray, Ryan Tibshirani.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

