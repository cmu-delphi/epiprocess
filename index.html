<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tools for basic signal processing in epidemiology • epiprocess</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Tools for basic signal processing in epidemiology">
<meta name="description" content="This package introduces common data structures for working with epidemiological data reported by location and time and offers associated utilities to perform basic signal processing tasks. The package is designed to be used in conjunction with `epipredict` for building and evaluating epidemiological models.">
<meta property="og:description" content="This package introduces common data structures for working with epidemiological data reported by location and time and offers associated utilities to perform basic signal processing tasks. The package is designed to be used in conjunction with `epipredict` for building and evaluating epidemiological models.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">epiprocess</a>

    <small class="nav-text text-light me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/epiprocess.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/epi_df.html">Working with epi_df objects and time series data</a></li>
    <li><a class="dropdown-item" href="articles/epi_archive.html">Working with epi_archive objects and data revisions</a></li>
    <li><a class="dropdown-item" href="articles/outliers.html">Detect and correct outliers in signals</a></li>
    <li><a class="dropdown-item" href="articles/growth_rate.html">Estimate growth rates in signals</a></li>
    <li><a class="dropdown-item" href="articles/correlation.html">Correlate signals across locations and time</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cmu-delphi/epiprocess/tree/main/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="epiprocess">epiprocess<a class="anchor" aria-label="anchor" href="#epiprocess"></a>
</h1></div>
<p>The <a href="https://cmu-delphi.github.io/epiprocess/">epiprocess</a> package works with epidemiological time series data and provides tools to manage, analyze, and process the data in preparation for modeling. It is designed to work in tandem with <code>{epipredict}</code>, which provides pre-built epiforecasting models and as well as tools to build custom models. Both packages are designed to lower the barrier to entry and implementation cost for epidemiological time series analysis and forecasting.</p>
<p><a href="https://cmu-delphi.github.io/epiprocess/">epiprocess</a> contains:</p>
<ul>
<li>
<code><a href="reference/epi_df.html">epi_df()</a></code> and <code><a href="reference/epi_archive.html">epi_archive()</a></code>, two data frame classes (that work like a <a href="https://tibble.tidyverse.org/" class="external-link">tibble</a> with <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> verbs) for working with epidemiological time series data;</li>
<li>signal processing tools building on these data structures such as
<ul>
<li>
<code><a href="reference/epi_slide.html">epi_slide()</a></code> for sliding window operations;</li>
<li>
<code><a href="reference/epix_slide.html">epix_slide()</a></code> for sliding window operations on archives;</li>
<li>
<code><a href="reference/growth_rate.html">growth_rate()</a></code> for computing growth rates;</li>
<li>
<code><a href="reference/detect_outlr.html">detect_outlr()</a></code> for outlier detection;</li>
<li>
<code><a href="reference/epi_cor.html">epi_cor()</a></code> for computing correlations;</li>
</ul>
</li>
</ul>
<p>If you are new to this set of tools, you may be interested learning through a book format: <a href="https://cmu-delphi.github.io/delphi-tooling-book/" class="external-link">Introduction to Epidemiological Forecasting</a>.</p>
<p>You may also be interested in:</p>
<ul>
<li>
<a href="https://cmu-delphi.github.io/epidatr/" class="external-link">epidatr</a>, for accessing wide range of epidemiological data sets, including COVID-19 data, flu data, and more.</li>
<li>
<code>{rtestim}</code>, a package for estimating the time-varying reproduction number of an epidemic.</li>
</ul>
<p>This package is provided by the <a href="https://delphi.cmu.edu/" class="external-link">Delphi group</a> at Carnegie Mellon University.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Stable version</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"cmu-delphi/epiprocess@main"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Dev version</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"cmu-delphi/epiprocess@dev"</span><span class="op">)</span></span></code></pre></div>
<p>The package is not yet on CRAN.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Once <code>epiprocess</code> and <code>epidatr</code> are installed, you can use the following code to get started:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cmu-delphi.github.io/epiprocess/">epiprocess</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cmu-delphi.github.io/epidatr/" class="external-link">epidatr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></code></pre></div>
<p>Get COVID-19 confirmed cumulative case data from JHU CSSE for California, Florida, New York, and Texas, from March 1, 2020 to January 31, 2022</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://cmu-delphi.github.io/epidatr/reference/pub_covidcast.html" class="external-link">pub_covidcast</a></span><span class="op">(</span></span>
<span>  source <span class="op">=</span> <span class="st">"jhu-csse"</span>,</span>
<span>  signals <span class="op">=</span> <span class="st">"confirmed_cumulative_num"</span>,</span>
<span>  geo_type <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  time_type <span class="op">=</span> <span class="st">"day"</span>,</span>
<span>  geo_values <span class="op">=</span> <span class="st">"ca,fl,ny,tx"</span>,</span>
<span>  time_values <span class="op">=</span> <span class="fu"><a href="https://cmu-delphi.github.io/epidatr/reference/epirange.html" class="external-link">epirange</a></span><span class="op">(</span><span class="fl">20200301</span>, <span class="fl">20220131</span><span class="op">)</span>,</span>
<span>  as_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">geo_value</span>, <span class="va">time_value</span>, cases_cumulative <span class="op">=</span> <span class="va">value</span><span class="op">)</span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt; # A tibble: 2,808 × 3</span></span>
<span><span class="co">#&gt;   geo_value time_value cases_cumulative</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;     &lt;date&gt;                &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ca        2020-03-01               19</span></span>
<span><span class="co">#&gt; 2 fl        2020-03-01                0</span></span>
<span><span class="co">#&gt; 3 ny        2020-03-01                0</span></span>
<span><span class="co">#&gt; 4 tx        2020-03-01                0</span></span>
<span><span class="co">#&gt; 5 ca        2020-03-02               23</span></span>
<span><span class="co">#&gt; 6 fl        2020-03-02                1</span></span>
<span><span class="co">#&gt; # ℹ 2,802 more rows</span></span></code></pre></div>
<p>Convert the data to an epi_df object and sort by geo_value and time_value. You can work with an <code>epi_df</code> like you can with a <a href="https://tibble.tidyverse.org/" class="external-link">tibble</a> by using <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> verbs</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edf</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/epi_df.html">as_epi_df</a></span><span class="op">(</span>as_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/arrange_canonical.html">arrange_canonical</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">geo_value</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>cases_daily <span class="op">=</span> <span class="va">cases_cumulative</span> <span class="op">-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html" class="external-link">lag</a></span><span class="op">(</span><span class="va">cases_cumulative</span>, default <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">edf</span></span>
<span><span class="co">#&gt; An `epi_df` object, 2,808 x 4 with metadata:</span></span>
<span><span class="co">#&gt; * geo_type  = state</span></span>
<span><span class="co">#&gt; * time_type = day</span></span>
<span><span class="co">#&gt; * as_of     = 2024-01-01</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # A tibble: 2,808 × 4</span></span>
<span><span class="co">#&gt; # Groups:   geo_value [4]</span></span>
<span><span class="co">#&gt;   geo_value time_value cases_cumulative cases_daily</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;     &lt;date&gt;                &lt;dbl&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ca        2020-03-01               19          19</span></span>
<span><span class="co">#&gt; 2 ca        2020-03-02               23           4</span></span>
<span><span class="co">#&gt; 3 ca        2020-03-03               29           6</span></span>
<span><span class="co">#&gt; 4 ca        2020-03-04               40          11</span></span>
<span><span class="co">#&gt; 5 ca        2020-03-05               50          10</span></span>
<span><span class="co">#&gt; 6 ca        2020-03-06               68          18</span></span>
<span><span class="co">#&gt; # ℹ 2,802 more rows</span></span></code></pre></div>
<p>Compute the 7 day moving average of the confirmed daily cases for each geo_value</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edf</span> <span class="op">&lt;-</span> <span class="va">edf</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">geo_value</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/epi_slide_opt.html">epi_slide_mean</a></span><span class="op">(</span><span class="va">cases_daily</span>, .window_size <span class="op">=</span> <span class="fl">7</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>smoothed_cases_daily <span class="op">=</span> <span class="va">slide_value_cases_daily</span><span class="op">)</span></span>
<span><span class="va">edf</span></span>
<span><span class="co">#&gt; An `epi_df` object, 2,808 x 5 with metadata:</span></span>
<span><span class="co">#&gt; * geo_type  = state</span></span>
<span><span class="co">#&gt; * time_type = day</span></span>
<span><span class="co">#&gt; * as_of     = 2024-01-01</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # A tibble: 2,808 × 5</span></span>
<span><span class="co">#&gt; # Groups:   geo_value [4]</span></span>
<span><span class="co">#&gt;   geo_value time_value cases_cumulative cases_daily smoothed_cases_daily</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;     &lt;date&gt;                &lt;dbl&gt;       &lt;dbl&gt;                &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ca        2020-03-01               19          19                19   </span></span>
<span><span class="co">#&gt; 2 ca        2020-03-02               23           4                11.5 </span></span>
<span><span class="co">#&gt; 3 ca        2020-03-03               29           6                 9.67</span></span>
<span><span class="co">#&gt; 4 ca        2020-03-04               40          11                10   </span></span>
<span><span class="co">#&gt; 5 ca        2020-03-05               50          10                10   </span></span>
<span><span class="co">#&gt; 6 ca        2020-03-06               68          18                11.3 </span></span>
<span><span class="co">#&gt; # ℹ 2,802 more rows</span></span></code></pre></div>
<p>Autoplot the confirmed daily cases for each geo_value</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edf</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">smoothed_cases_daily</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/cmu-delphi/epiprocess/tree/main/" class="external-link">Browse source code</a></li>
<li><a href="https://cmu-delphi.github.io/delphi-tooling-book/" class="external-link">Introduction to Delphi's Tooling Work</a></li>
<li><a href="https://cmu-delphi.github.io/epipredict/" class="external-link">Get the epipredict R package</a></li>
<li><a href="https://github.com/cmu-delphi/epidatr" class="external-link">Get the epidatr R package</a></li>
<li><a href="https://cmu-delphi.github.io/epidatasets/" class="external-link">Get the epidatasets R package</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing epiprocess</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Logan Brooks <br><small class="roles"> Author, maintainer </small>  </li>
<li>Daniel McDonald <br><small class="roles"> Author </small>  </li>
<li>Evan Ray <br><small class="roles"> Author </small>  </li>
<li>Ryan Tibshirani <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Logan Brooks, Daniel McDonald, Evan Ray, Ryan Tibshirani.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
